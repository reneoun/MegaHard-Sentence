(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}})();const a=new Map([[["Meta","Enter"],()=>{const r=document.querySelector("section[a4]:last-child"),e=r.cloneNode(!0);r.parentNode?.appendChild(e),e.scrollIntoView({behavior:"smooth"});const t=e.querySelector("textarea");t&&(t.addEventListener("keydown",s),t.value="",t.focus())}]]);document.addEventListener("DOMContentLoaded",()=>{const r=document.querySelector("textarea#editor");document.querySelector("div#preview");const e=document.querySelector("section[a4]");if(e){const t=()=>{r&&r.focus()};e.addEventListener("click",t),e.addEventListener("touchstart",t)}r.addEventListener("keydown",s)});const s=r=>{a.forEach((t,c)=>{c.every(o=>r.getModifierState(o)||r.key===o)&&(r.preventDefault(),t())});const e=r.target;if(e){if(r.key==="Backspace"&&e.value===""){const t=e.closest("section[a4]");if(document.querySelectorAll("section[a4]").length>1&&t){t.remove();const n=document.querySelector("section[a4]:last-child").querySelector("textarea");n&&n.focus()}}if((r.key==="ArrowUp"||r.key==="ArrowLeft")&&e.selectionStart===0){const t=e.parentElement?.previousElementSibling?.querySelector("textarea");t&&t.focus()}if((r.key==="ArrowDown"||r.key==="ArrowRight")&&e.selectionStart===e.value.length){const t=e.parentElement?.nextElementSibling?.querySelector("textarea");t&&t.focus()}}};
